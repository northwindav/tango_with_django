{% extends 'base.html' %}

{% load staticfiles %}

{% block title %}Index{% endblock %}

{% block body_block %}

	{% if user.is_authenticated %}
	<div class="page-header">
          <h1>Rango says... Hello {{ user.username }}!</h1>
	</div>
        {% else %}
	<div class="page-header">
          <h1>Rango says... Hello Stranger!</h1>
	</div>
        {% endif %}

	<div class="panel panel-primary">
            <div class="panel-heading">
               <h3 class="panel-title">Categories</h3>
	     </div>
	</div>
	 	<!--If categories is passed when the template is called, they will be displayed here -->
	         {% if categories %}
        		 <ul class="list-group">
               		 {% for category in categories %}
               			 <li class="list-group-item"><a href="{% url 'category' category.slug %}">{{ category.name }}</a></li>
               		 {% endfor %}
            		</ul>
        	{% else %}
            		<strong>There are no categories present.</strong>
        	{% endif %}
	<div class="panel panel-primary">
		<div class="panel-heading">
              <h3 class="panel-title">Pages</h3>
		</div>
	</div>
        	<!-- If pages is passed, then display the top 5 pages -->
        	{% if pages %}
               		 <ul class="list-group">
               		 {% for page in pages %}
                  		<li class="list-group-item"><a href="{{ page.url }}">{{ page.title }}</a></li>
                 	 {% endfor %}
                	</ul>
        	{% else %}
                	<strong>There are no top viewed pages.</strong>
        	{% endif %}

	<p> visits: {{ visits }}</p>
{% endblock %}


